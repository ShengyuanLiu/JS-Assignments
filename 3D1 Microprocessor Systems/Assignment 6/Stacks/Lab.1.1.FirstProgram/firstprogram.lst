


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             FirstProgram, CODE, READONLY
    2 00000000                 IMPORT           main
    3 00000000                 EXPORT           start
    4 00000000         
    5 00000000         start
    6 00000000 E59F1050        LDR              r1, =brackets ;address = 0xA100
                                                            0000
    7 00000004 E59FC050        LDR              r12, =stk_top ;current pointer
    8 00000008 E59FB04C        LDR              r11, =stk_top ;always point to 
                                                            end of stack
    9 0000000C E3A03000        LDR              r3, = 0     ;parentheses balanc
                                                            ed bool, 1= false, 
                                                            0 = true
   10 00000010         
   11 00000010 EA000008        B                WHcond
   12 00000014 E3520028 
                       wh1     CMP              r2, #'('
   13 00000018 0A000004        BEQ              push
   14 0000001C EAFFFFFF        B                pop
   15 00000020         
   16 00000020 E15C000B 
                       pop     CMP              r12, r11    ;check if stack emp
                                                            ty
   17 00000024 2A000009        BHS              fail
   18 00000028 E49C0004        LDR              r0, [r12], #4 ;load the value a
                                                            nd decrease the poi
                                                            nter
   19 0000002C EA000001        B                WHcond      ;back to loop
   20 00000030         
   21 00000030 E52C0004 
                       push    STR              r0, [r12, #-4]! ;
   22 00000034 EAFFFFFF        B                WHcond
   23 00000038         
   24 00000038 E5D12000 
                       WHcond  LDRB             r2, [r1]    ;load first char
   25 0000003C E3520000        CMP              r2, #0      ;check if null term
                                                            inated
   26 00000040 E2811001        ADD              r1, r1, #1  ;add 1 to check nex
                                                            t memory space next
                                                             time
   27 00000044 1AFFFFF2        BNE              wh1         ;go to loop
   28 00000048         
   29 00000048 E15C000B        CMP              r12, r11    ;check if stack emp
                                                            ty
   30 0000004C 0A000000        BEQ              stop        ;if empty end progr
                                                            am
   31 00000050         
   32 00000050 E3A03001 
                       fail    MOV              r3, #1      ;1 = program fail
   33 00000054         
   34 00000054 EAFFFFFE 
                       stop    B                stop
   35 00000058         
   36 00000058 00000400 
                       stk_sz  EQU              0x400       ;set the size of th
                                                            e stack
   37 00000058         
   38 00000058 00000000 
              00000000 



ARM Macro Assembler    Page 2 


              00000000         AREA             TestData, DATA, READWRITE
   39 00000000 28 28 28 
              28 29 00 brackets
                               DCB              "(((()",0   ;null terminated st
                                                            ring
   40 00000006 00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 3 


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 4 


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 5 


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 6 


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 7 


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00       stk_mem SPACE            stk_sz
   41 00000406         stk_top
   42 00000406                 END
Command Line: --debug --xref --apcs=interwork --depend=.\firstprogram.d -o.\fir
stprogram.o -IC:\Keil\ARM\RV31\INC -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\In
c\Philips --predefine="__EVAL SETA 1" --predefine="__MICROLIB SETA 1" --predefi
ne="NO_CLOCK_SETUP SETA 1" --predefine="NO_EMC_SETUP SETA 1" --predefine="RAM_I
NTVEC SETA 1" --predefine="RAM_MODE SETA 1" --predefine="REMAP SETA 1" --list=.



ARM Macro Assembler    Page 8 


\firstprogram.lst FirstProgram.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

FirstProgram 00000000

Symbol: FirstProgram
   Definitions
      At line 1 in file FirstProgram.s
   Uses
      None
Comment: FirstProgram unused
WHcond 00000038

Symbol: WHcond
   Definitions
      At line 24 in file FirstProgram.s
   Uses
      At line 11 in file FirstProgram.s
      At line 19 in file FirstProgram.s
      At line 22 in file FirstProgram.s

fail 00000050

Symbol: fail
   Definitions
      At line 32 in file FirstProgram.s
   Uses
      At line 17 in file FirstProgram.s
Comment: fail used once
pop 00000020

Symbol: pop
   Definitions
      At line 16 in file FirstProgram.s
   Uses
      At line 14 in file FirstProgram.s
Comment: pop used once
push 00000030

Symbol: push
   Definitions
      At line 21 in file FirstProgram.s
   Uses
      At line 13 in file FirstProgram.s
Comment: push used once
start 00000000

Symbol: start
   Definitions
      At line 5 in file FirstProgram.s
   Uses
      At line 3 in file FirstProgram.s
Comment: start used once
stop 00000054

Symbol: stop
   Definitions
      At line 34 in file FirstProgram.s
   Uses
      At line 30 in file FirstProgram.s
      At line 34 in file FirstProgram.s




ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

wh1 00000014

Symbol: wh1
   Definitions
      At line 12 in file FirstProgram.s
   Uses
      At line 27 in file FirstProgram.s
Comment: wh1 used once
8 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

TestData 00000000

Symbol: TestData
   Definitions
      At line 38 in file FirstProgram.s
   Uses
      None
Comment: TestData unused
brackets 00000000

Symbol: brackets
   Definitions
      At line 39 in file FirstProgram.s
   Uses
      At line 6 in file FirstProgram.s
Comment: brackets used once
stk_mem 00000006

Symbol: stk_mem
   Definitions
      At line 40 in file FirstProgram.s
   Uses
      None
Comment: stk_mem unused
stk_top 00000406

Symbol: stk_top
   Definitions
      At line 41 in file FirstProgram.s
   Uses
      At line 7 in file FirstProgram.s
      At line 8 in file FirstProgram.s

4 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

stk_sz 00000400

Symbol: stk_sz
   Definitions
      At line 36 in file FirstProgram.s
   Uses
      At line 40 in file FirstProgram.s
Comment: stk_sz used once
1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

main 00000000

Symbol: main
   Definitions
      At line 2 in file FirstProgram.s
   Uses
      None
Comment: main unused
1 symbol
353 symbols in table
